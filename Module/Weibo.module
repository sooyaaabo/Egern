#!name=å¾®åš
#!desc=å¾®åšå…¨é¢å‡€åŒ–
#!author=RuCu6[https://github.com/RuCu6], fmz200[https://github.com/fmz200], zmqcherish[https://github.com/zmqcherish], neishe321[https://github.com/neishe321], å¯è‰ğŸ…¥[https://github.com/luestr/ProxyResource/blob/main/README.md]
#!icon=https://raw.githubusercontent.com/sooyaaabo/IconLibrary/main/App/Weibo.png
#!openUrl=https://apps.apple.com/app/id350962117
#!homepage=https://github.com/sooyaaabo/Egern
#!date=2026-02-22 09:00
#!arguments=MainTabFilter:true

[Rule]
# æ”¶é›†ç”¨æˆ·ä¿¡æ¯ï¼Œä¸Šä¼ ç”¨æˆ·æ—¥å¿—çš„è¯·æ±‚
URL-REGEX,"^https?:\/\/m?api\.weibo\.c(n|om)\/2\/(push\/active|client\/addlog_batch|ad\/preload)",REJECT-DROP
URL-REGEX,"^https?:\/\/api-cloudim\.api\.weibo\.com\/v1\/log\/",REJECT-DROP
# å¾®åšå¼€å±å¹¿å‘Š
DOMAIN-SUFFIX,biz.weibo.com,REJECT
DOMAIN,bootpreload.uve.weibo.com,REJECT
# å…¶ä»–å¹¿å‘Š
DOMAIN-SUFFIX,fastimage.uve.weibo.com,REJECT
DOMAIN-SUFFIX,adimg.vue.weibo.com,REJECT
DOMAIN-SUFFIX,zymo.mps.weibo.com,REJECT
DOMAIN-SUFFIX,weibomingzi.com,REJECT
DOMAIN-SUFFIX,sdkapp.uve.weibo.com,REJECT
DOMAIN-SUFFIX,promote.biz.weibo.cn,REJECT
DOMAIN-SUFFIX,gw5.push.mcp.weibo.cn,REJECT
DOMAIN-SUFFIX,gw6.push.mcp.weibo.cn,REJECT
DOMAIN-SUFFIX,game.weibo.cn,REJECT
DOMAIN-SUFFIX,adimg.uve.weibo.com,REJECT
DOMAIN-SUFFIX,game.weibo.com,REJECT
DOMAIN-SUFFIX,ads.viber.com,REJECT
DOMAIN-SUFFIX,ads-d.viber.com,REJECT
DOMAIN-SUFFIX,ads.aws.viber.com,REJECT
DOMAIN-SUFFIX,alitui.weibo.com,REJECT
DOMAIN-SUFFIX,dp.im.weibo.cn,REJECT
DOMAIN-SUFFIX,biz.weibo.com.cn,REJECT
DOMAIN-SUFFIX,click.uve.weibo.com,REJECT
DOMAIN-SUFFIX,wax.weibo.com,REJECT
DOMAIN-SUFFIX,wbapp.uve.weibo.com,REJECT
DOMAIN-SUFFIX,widget.weibo.com,REJECT
DOMAIN-SUFFIX,dsp.edm.weibo.cn,REJECT
DOMAIN-SUFFIX,alitui.weibo.com.cn,REJECT
DOMAIN-SUFFIX,tui.weibo.com,REJECT
DOMAIN-SUFFIX,wax.weibo.com.cn,REJECT
DOMAIN-SUFFIX,ad.weibo.com,REJECT
# å±è”½ä¿¡æ¯æ”¶é›†
DOMAIN,datacollection.uve.weibo.com,REJECT
DOMAIN,adpinpai.video.weibocdn.com,REJECT

[URL Rewrite]
# å¾®åš
^https?:\/\/m?api\.weibo\.c(n|om)\/2\/logservice\/service\? - reject

[Body Rewrite]
http-response-jq ^https:\/\/m?api\.weibo\.c(n|om)\/2\/cardlist\? 'del(.items[] | select(.category == "group"))'

[Map Local]
# é¦–é¡µ - ç­¾åˆ°ã€å‘å¸ƒæŒ‰é’®ã€ä¾§è¾¹æ ã€å³ä¸Šè§’çº¢åŒ…ã€é¡¶éƒ¨æ ‡ç­¾é¡µã€ä¾§è¾¹æ æé†’ã€è¶…è¯æ ‡ç­¾é¡µæ‚¬æµ®ã€é¡¶éƒ¨ç›´æ’­
^https:\/\/m?api\.weibo\.c(n|om)\/2\/(?:ug\/checkin\/list|push\/daily|push\/info) data-type=text data="{}" status-code=200 header="Content-Type:application/json"

^https:\/\/m?api\.weibo\.c(n|om)\/2\/!\/live\/media_homelist\? data-type=text data="{}" status-code=200 header="Content-Type:application/json"

# è¯¦æƒ…é¡µ - è¶…è¯ã€è¯„è®ºåŒºã€çœ‹å›¾ç•Œé¢ã€ä¸ªäººä¸»é¡µã€æˆ‘çš„é¡µé¢ã€ä¿¡æ¯æµã€å•†å“æ©±çª—ã€è§†é¢‘æµã€è§†é¢‘å·ã€è§†é¢‘è°ƒæŸ¥ã€è¯é¢˜å¡ç‰‡
^https:\/\/m?api\.weibo\.c(n|om)\/2\/comments\/bullet_screens\? data-type=text data="{}" status-code=200 header="Content-Type:application/json"

^https:\/\/m?api\.weibo\.c(n|om)\/2\/photo\/info\? data-type=text data="{}" status-code=200 header="Content-Type:application/json"

^https:\/\/m?api\.weibo\.c(n|om)\/2\/statuses\/(?:container_positive|push_info) data-type=text data="{}" status-code=200 header="Content-Type:application/json"

^https:\/\/m?api\.weibo\.c(n|om)\/2\/vote\/get_vote_detail\? data-type=text data="{}" status-code=200 header="Content-Type:application/json"

^https:\/\/m?api\.weibo\.c(n|om)\/2\/!\/chaohua\/discovery\/home_bottom\/switch\? data-type=text data="{}" status-code=200 header="Content-Type:application/json"

^https:\/\/m?api\.weibo\.c(n|om)\/2\/!\/huati\/(?:discovery_home_bottom_channels|discovery_home_bottom_getdotinfo|mobile_discovery_searchchange) data-type=text data="{}" status-code=200 header="Content-Type:application/json"

^https:\/\/m?api\.weibo\.c(n|om)\/2\/!\/wbox\/\w+\/(?:home_bottom_modal|interest_category) data-type=text data="{}" status-code=200 header="Content-Type:application/json"

# å‘ç°é¡µ - çƒ­é—¨å¾®åšä¿¡æ¯æµã€æœç´¢åˆ—è¡¨ã€çƒ­æœæé†’ã€çŒœä½ æƒ³æœã€è§†é¢‘æµçº¢åŒ…
^https:\/\/m?api\.weibo\.c(n|om)\/2\/search\/(?:container_discover|finder_nav_polling)\? data-type=text data="{}" status-code=200 header="Content-Type:application/json"

^https:\/\/m?api\.weibo\.c(n|om)\/2\/hot\/hours_spotlight\? data-type=text data="{}" status-code=200 header="Content-Type:application/json"

^https:\/\/m?api\.weibo\.c(n|om)\/2\/video\/redpacket\? data-type=text data="{}" status-code=200 header="Content-Type:application/json"

^https:\/\/m?api\.weibo\.c(n|om)\/2\/!\/(?:search\/finder_nav_polling|sug\/list\/finderchange|was\/finder\/searchbarchange)\? data-type=text data="{}" status-code=200 header="Content-Type:application/json"

# è§†é¢‘é¡µ
^https:\/\/m?api\.weibo\.c(n|om)\/2\/video\/tiny_video_info_show\? data-type=text data="{}" status-code=200 header="Content-Type:application/json"

# å¼€å±å¹¿å‘Š //*.uve.weibo.com
^https:\/\/(?:bootrealtime|bootpreload)\.uve\.weibo\.com\/v\d\/ad\/(?:realtime|preload) data-type=text data="{}" status-code=200 header="Content-Type:application/json"

^https:\/\/sdkapp\.uve\.weibo\.com\/interface\/sdk\/(?:get-lbs-cell-info\.php|sdkconfig\.php) data-type=text data="{}" status-code=200 header="Content-Type:application/json"

# å¾®åšé•¿æ–‡ç« æ¨å¹¿
^https:\/\/card\.weibo\.com\/article\/m\/aj\/(?:reward|uvead) data-type=text data="{}" status-code=200 header="Content-Type:application/json"

^https:\/\/weibo\.com\/ttarticle\/x\/m\/aj\/(?:reward|uvead) data-type=text data="{}" status-code=200 header="Content-Type:application/json"

[Script]
# å‘ç°é¡µ
[å¾®åš]å‘ç°é¡µ = type=http-response, pattern=^https:\/\/m?api\.weibo\.c(n|om)\/2\/search\/(finder|container_timeline|container_discover)\?, script-path=https://raw.githubusercontent.com/fmz200/wool_scripts/main/Scripts/weibo/weibo_ads.js, requires-body=true, timeout=60

# çƒ­æœé¡µ
[å¾®åš]çƒ­æœé¡µ = type=http-response, pattern=^https:\/\/m?api\.weibo\.c(n|om)\/2\/(page|flowpage)\?, script-path=https://raw.githubusercontent.com/fmz200/wool_scripts/main/Scripts/weibo/weibo_ads.js, requires-body=true, timeout=60

# è¯é¢˜é¡µ
[å¾®åš]è¯é¢˜é¡µé¢ = type=http-response, pattern=^https:\/\/m?api\.weibo\.c(n|om)\/2\/searchall\?, script-path=https://raw.githubusercontent.com/fmz200/wool_scripts/main/Scripts/weibo/weibo_ads.js, requires-body=true, timeout=60

# è¶…è¯é¡µ
[å¾®åš]è¶…è¯é¡µ = type=http-response, pattern=^https:\/\/m?api\.weibo\.c(n|om)\/2\/statuses\/container_timeline_topicpage\?, script-path=https://raw.githubusercontent.com/fmz200/wool_scripts/main/Scripts/weibo/weibo_ads.js, requires-body=true, timeout=60

# è¶…è¯Tabé¡µ
[å¾®åš]è¶…è¯Tabé¡µ = type=http-response, pattern=^https:\/\/m?api\.weibo\.c(n|om)\/2\/statuses\/container_timeline_topic\?, script-path=https://raw.githubusercontent.com/fmz200/wool_scripts/main/Scripts/weibo/weibo_ads.js, requires-body=true, timeout=60

# è¯¦æƒ…é¡µ
[å¾®åš]è¯¦æƒ…é¡µ = type=http-response, pattern=^https:\/\/m?api\.weibo\.c(n|om)\/2\/statuses\/extend\?, script-path=https://raw.githubusercontent.com/fmz200/wool_scripts/main/Scripts/weibo/weibo_ads.js, requires-body=true, timeout=60

[å¾®åš]è¯¦æƒ…é¡µ = type=http-response, pattern=^https:\/\/m?api\.weibo\.c(n|om)\/2\/statuses\/container_detail\?, script-path=https://raw.githubusercontent.com/fmz200/wool_scripts/main/Scripts/weibo/weibo_ads.js, requires-body=true, timeout=60

# é¡¶éƒ¨Tabé¡µåˆ†ç»„
[å¾®åš]é¡¶éƒ¨Tabé¡µåˆ†ç»„ = type=http-response, pattern=^https:\/\/m?api\.weibo\.c(n|om)\/2\/groups\/allgroups\/v2\?, script-path=https://raw.githubusercontent.com/fmz200/wool_scripts/main/Scripts/weibo/weibo_ads.js, requires-body=true, timeout=60

# è¯„è®ºåŒº
[å¾®åš]è¯„è®ºåŒº = type=http-response, pattern=^https:\/\/m?api\.weibo\.c(n|om)\/2\/comments\/mix_comments\?, script-path=https://raw.githubusercontent.com/fmz200/wool_scripts/main/Scripts/weibo/weibo_ads.js, requires-body=true, timeout=60

[å¾®åš]è¯„è®ºåŒº = type=http-response, pattern=^https:\/\/m?api\.weibo\.c(n|om)\/2\/statuses\/(container_detail_comment|container_detail_mix)\?, script-path=https://raw.githubusercontent.com/fmz200/wool_scripts/main/Scripts/weibo/weibo_ads.js, requires-body=true, timeout=60

# è½¬å‘åŒº
[å¾®åš]è½¬å‘åŒº = type=http-response, pattern=^https:\/\/m?api\.weibo\.c(n|om)\/2\/statuses\/container_detail_forward\?, script-path=https://raw.githubusercontent.com/fmz200/wool_scripts/main/Scripts/weibo/weibo_ads.js, requires-body=true, timeout=60

[å¾®åš]è½¬å‘åŒº = type=http-response, pattern=^https:\/\/m?api\.weibo\.c(n|om)\/2\/statuses\/repost_timeline\?, script-path=https://raw.githubusercontent.com/fmz200/wool_scripts/main/Scripts/weibo/weibo_main.js, requires-body=true, timeout=60

# å…¶ä½™å¹¿å‘ŠåŠå„éƒ¨åˆ†æ¨å¹¿ - cherish
[å¾®åš]å…¶ä½™å¹¿å‘ŠåŠå„éƒ¨åˆ†æ¨å¹¿ = type=http-response, pattern=^https:\/\/m?api\.weibo\.c(n|om)/2/(cardlist|searchall|page|messageflow|statuses/(unread_)?friends(/|_)timeline|groups/timeline|statuses/(container_timeline|container_timeline_hot|unread_hot_timeline|extend|video_mixtimeline)|profile/(me|container_timeline)|video/(community_tab|remind_info|tiny_stream_video_list)|checkin/show|(\!/)?live/media_homelist|comments/build_comments|container/get_item)\?, script-path=https://raw.githubusercontent.com/fmz200/wool_scripts/main/Scripts/weibo/weibo_main.js, requires-body=true, timeout=60

[å¾®åš]å…¶ä½™å¹¿å‘ŠåŠå„éƒ¨åˆ†æ¨å¹¿ = type=http-response, pattern=^https?:\/\/(sdk|wb)app\.uve\.weibo\.com(/interface/sdk/sdkad.php|/wbapplua/wbpullad.lua)\?, script-path=https://raw.githubusercontent.com/zmqcherish/proxy-script/main/weibo_launch.js, requires-body=true, timeout=60

# è‡ªå®šä¹‰Tabçš®è‚¤
[å¾®åš]è‡ªå®šä¹‰Tabçš®è‚¤ = type=http-response, pattern=^https:\/\/m?api\.weibo\.c(n|om)\/2\/!\/client\/light_skin\?, script-path=https://raw.githubusercontent.com/zmqcherish/proxy-script/main/weibo_main.js, requires-body=true, timeout=60

# éä¼šå‘˜è®¾ç½®Tabçš®è‚¤ - cherish
[å¾®åš]éä¼šå‘˜è®¾ç½®Tabçš®è‚¤ = type=http-response, pattern=^https:\/\/new\.vip\.weibo\.c(n|om)\/littleskin\/preview\?, script-path=https://raw.githubusercontent.com/zmqcherish/proxy-script/main/weibo_main.js, requires-body=true, timeout=60

# ä¼šå‘˜å›¾æ ‡
[å¾®åš]ä¼šå‘˜å›¾æ ‡ = type=http-response, pattern=^https:\/\/new\.vip\.weibo\.c(n|om)\/aj\/appicon\/list\?, script-path=https://github.com/fmz200/wool_scripts/raw/main/Scripts/weibo/weibo_vip.js, requires-body=true, timeout=60

[MITM]
hostname = %APPEND% *.weibo.cn, *.weibo.com, weibo.com
